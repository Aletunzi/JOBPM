<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fursa</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Inter Tight", "sans-serif"],
          },
          colors: {
            brand: { 50: '#e8fef0', 500: '#1B2D21', 600: '#1B2D21', 700: '#0f1a13' },
            gray: {
              50:  '#f7f8f7',
              100: '#eeeeed',
              200: '#d8dbd9',
              300: '#c1c7c3',
              400: '#7d9187',
              500: '#5a6a62',
              600: '#3a4d42',
              700: '#2a3930',
              800: '#1f2e24',
              900: '#1B2D21',
            }
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg-white min-h-screen font-sans text-gray-900">

  <!-- Header -->
  <header class="bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm">
    <div class="max-w-screen-xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <span class="text-2xl font-bold text-brand-600 tracking-tight">Fursa</span>
      </div>
      <div id="stats-bar" class="flex items-center gap-4 text-sm text-gray-500">
        <span id="stat-scraped" class="hidden sm:block"></span>
      </div>
    </div>
  </header>

  <div class="max-w-screen-xl mx-auto px-4 py-5">

    <!-- ── Filter bar (LinkedIn-style) ───────────────────────────────────── -->
    <div class="filter-bar mb-5">

      <!-- Search -->
      <input id="filter-keyword" type="text" placeholder="Search roles…" class="fp-input" style="min-width:180px" />

      <!-- City / Country free text -->
      <input id="filter-city" type="text" placeholder="City or country…" class="fp-input" style="min-width:150px" />

      <!-- Date posted -->
      <div class="fp-wrap" id="fp-date">
        <button class="fp-btn" id="fpbtn-date" type="button">
          <span id="fplbl-date">Date posted</span>
          <svg class="fp-chevron" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg>
        </button>
        <div class="fp-panel" id="fpp-date">
          <label class="dp-option"><input type="radio" name="date" value="7D" checked> Past week</label>
          <label class="dp-option"><input type="radio" name="date" value="TODAY"> Past 24 hours</label>
          <label class="dp-option"><input type="radio" name="date" value="30D"> Past month</label>
          <label class="dp-option"><input type="radio" name="date" value="ALL"> Anytime</label>
        </div>
      </div>

      <!-- Location (work type) -->
      <div class="fp-wrap" id="fp-worktype">
        <button class="fp-btn" id="fpbtn-worktype" type="button">
          <span id="fplbl-worktype">Location</span>
          <svg class="fp-chevron" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg>
        </button>
        <div class="fp-panel" id="fpp-worktype">
          <label class="dp-option"><input type="checkbox" name="work_type" value="REMOTE"> Remote</label>
          <label class="dp-option"><input type="checkbox" name="work_type" value="HYBRID"> Hybrid</label>
          <label class="dp-option"><input type="checkbox" name="work_type" value="ONSITE"> On-site</label>
        </div>
      </div>

      <!-- Experience -->
      <div class="fp-wrap" id="fp-seniority">
        <button class="fp-btn" id="fpbtn-seniority" type="button">
          <span id="fplbl-seniority">Experience</span>
          <svg class="fp-chevron" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg>
        </button>
        <div class="fp-panel" id="fpp-seniority">
          <label class="dp-option"><input type="checkbox" name="seniority" value="JUNIOR"> Junior</label>
          <label class="dp-option"><input type="checkbox" name="seniority" value="MID"> Mid</label>
          <label class="dp-option"><input type="checkbox" name="seniority" value="SENIOR"> Senior</label>
          <label class="dp-option"><input type="checkbox" name="seniority" value="STAFF"> Staff / Principal</label>
          <label class="dp-option"><input type="checkbox" name="seniority" value="LEAD"> Lead / Group</label>
          <label class="dp-option"><input type="checkbox" name="seniority" value="LEADERSHIP"> Director / VP</label>
        </div>
      </div>

      <!-- Right side controls -->
      <div class="fp-right">
        <button id="btn-reset" type="button" class="fp-reset">Reset</button>
      </div>
    </div>

    <!-- ── Job cards grid (full width, 3 cols) ────────────────────────────── -->
    <div id="jobs-grid" class="grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
      <div class="skeleton-card col-span-full"></div>
    </div>

    <!-- Empty state -->
    <div id="empty-state" class="hidden text-center py-20 text-gray-400">
      <div class="text-5xl mb-3">&#128269;</div>
      <p class="text-lg font-medium text-gray-500">No jobs found</p>
      <p class="text-sm mt-1">Try adjusting your filters</p>
    </div>

    <!-- Infinite scroll sentinel -->
    <div id="scroll-sentinel" class="h-4"></div>

    <!-- Loading spinner (initial load) -->
    <div id="loading" class="hidden flex justify-center py-12">
      <div class="w-8 h-8 border-4 border-brand-500 border-t-transparent rounded-full animate-spin"></div>
    </div>

    <!-- Loading more spinner (scroll append) -->
    <div id="loading-more" class="hidden flex justify-center py-6">
      <div class="w-6 h-6 border-4 border-brand-500 border-t-transparent rounded-full animate-spin"></div>
    </div>
  </div>

  <script>window.__API_KEY__ = "{{ api_key }}";</script>
  <script src="app.js"></script>
</body>
</html>
